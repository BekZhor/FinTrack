<h2>Home</h2>

<div class="dashboard-summary">
  <div class="summary-card">
    <h3>Total Balance</h3>
    <div *ngIf="loadingBalance" class="loading-indicator small">Loading...</div>
    <div *ngIf="!loadingBalance" class="balance-value">
      {{ totalBalance | number:'1.2-2' }} KZT
    </div>
  </div>
</div>

<div class="recent-transactions">
  <h3>Recent Transactions</h3>
  <div *ngIf="loadingTransactions" class="loading-indicator">Loading...</div>

  <ul *ngIf="!loadingTransactions && recentTransactions.length > 0; else noTransactions" class="transaction-list">
    <li *ngFor="let tx of recentTransactions" [ngClass]="getTransactionClass(tx.type)">
      <span class="tx-date">{{ tx.date | date:'dd.MM.yy HH:mm' }}</span>
      <span class="tx-description">
         {{ tx.description || (tx.type === 'income' ? 'Income' : 'Expense') }}
         <small *ngIf="tx.category">({{ tx.category.name }})</small>
      </span>
      <span class="tx-amount">
         {{ tx.type === 'income' ? '+' : '-' }}{{ tx.amount | number:'1.2-2' }}
         <small class="tx-wallet">({{ tx.wallet.name }})</small>
      </span>
    </li>
  </ul>

  <ng-template #noTransactions>
    <p *ngIf="!loadingTransactions">No recent transactions.</p>
  </ng-template>

  <div *ngIf="!loadingTransactions && recentTransactions.length > 0" class="view-all-link">
     <a routerLink="/transactions">View all transactions</a>
  </div>
</div>

<div class="charts-section">
  <h3>Analytics (Coming Soon)</h3>
  <div class="chart-container">
     <p style="text-align: center; color: #888; padding: 20px;">Charts are not available yet.</p>
  </div>
</div>

<div *ngIf="error && !loadingBalance && !loadingTransactions" class="alert alert-danger">{{ error }}</div>
